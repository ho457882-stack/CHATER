<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Admin Orders</title>
<style>
body { background:#000; color:#fff; font-family:'Poppins',sans-serif; display:flex; flex-direction:column; align-items:center; padding:20px 10px; }
h1 { font-size:2em; color:#ff0033; text-shadow:0 0 10px #ff0033; margin-bottom:15px; text-align:center; }
.order-box { width:100%; max-width:700px; background:rgba(0,0,0,0.7); border:2px solid #ff0033; border-radius:15px; box-shadow:0 0 15px #ff0033; margin-bottom:15px; padding:10px; }
.order-box h2 { font-size:1.2em; color:#ff0033; margin-bottom:5px; }
.order-box p { font-size:1em; margin:2px 0; }
button { padding:5px 10px; margin-top:5px; background:#ff0033; border:none; color:#fff; border-radius:5px; cursor:pointer; transition:0.3s; }
button:hover { background:#fff; color:#ff0033; }
</style>
</head>
<body>

<h1>Admin Orders</h1>
<div id="adminContainer"></div>

<script>
// BIN / Access / Mastery keys (from your provided JSON bin)
const BIN_ID = "$2a$10$8mJdZmmfpPtrE6iazZDGGubYMI9gXd0yhdhUGr3eXI90y6XnOzhmC";
const ACCESS_KEY = "$2a$10$8YaiU1c5n10XmOEYdj.YPO2msWu/Rk7bDyqSBtxd1sGb8gV8fmbLK";
const MASTERY_KEY = "68cb1b4dae596e708ff236fd";

// Load orders from localStorage (sent from fillup.html)
function loadOrders(){
    let orders = JSON.parse(localStorage.getItem('adminOrders')) || [];
    const container = document.getElementById('adminContainer');
    container.innerHTML = "";

    orders.forEach((o,i)=>{
        // Check keys match
        if(o.bin === BIN_ID && o.access === ACCESS_KEY && o.mastery === MASTERY_KEY){
            const div = document.createElement('div');
            div.classList.add('order-box');
            div.innerHTML = `
                <h2>Order #${i+1}</h2>
                <p>Timestamp: ${o.timestamp}</p>
                <p>Full Name: ${o.orderInfo.fullName}</p>
                <p>Grade: ${o.orderInfo.grade}</p>
                <p>Section: ${o.orderInfo.section}</p>
                <p>Items:</p>
                <ul>${o.orderInfo.items.map(it=>`<li>${it}</li>`).join('')}</ul>
                <p>Total: â‚±${o.orderInfo.total}</p>
                <button onclick="deleteOrder(${i})">Delete Order</button>
            `;
            container.appendChild(div);
        }
    });
}

// Delete order
function deleteOrder(index){
    let orders = JSON.parse(localStorage.getItem('adminOrders')) || [];
    orders.splice(index,1);
    localStorage.setItem('adminOrders',JSON.stringify(orders));
    loadOrders();
}

// Initial load
loadOrders();
</script>

</body>
</html>